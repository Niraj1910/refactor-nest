<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Election Alliances</title>
	<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 font-sans p-4">
	<div class="max-w-3xl mx-auto">

		<h1 class="text-3xl font-bold text-gray-900 mb-6">Election Alliances</h1>
		<div id="alliances-container">
			<% alliancesData.forEach(function(alliance) { %>
				<div class="bg-white rounded-lg shadow-md p-6 mb-6">
					<!-- Alliance Header -->
					<div class="flex justify-between items-center mb-6">
						<div class="flex items-center gap-3">
							<span class="text-gray-600">
								<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6"
									fill="none" viewBox="0 0 24 24"
									stroke="currentColor">
									<path stroke-linecap="round"
										stroke-linejoin="round" stroke-width="2"
										d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
								</svg>
							</span>
							<span class="text-xl font-bold text-gray-800">
								<%= alliance.name %>
							</span>
						</div>
						<div class="flex items-center gap-2">
							<span class="text-amber-500">
								<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6"
									fill="none" viewBox="0 0 24 24"
									stroke="currentColor">
									<path stroke-linecap="round"
										stroke-linejoin="round" stroke-width="2"
										d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
								</svg>
							</span>
						</div>
					</div>

					<!-- Party Rows -->
					<div class="space-y-4">
						<% alliance.parties.forEach(function(party, index) { %>
							<div
								class="flex justify-between items-center py-3 <%= index < alliance.parties.length - 1 ? 'border-b border-gray-100' : '' %>">
								<div class="flex items-center gap-3">
									<div
										class="w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden">
										<% if (party.party_logo) { %>
											<img src="<%= party.party_logo %>"
												alt="<%= party.party %> logo"
												class="w-full h-full object-cover">
											<% } else { %>
												<span
													class="text-blue-900 font-bold text-xs">
													<%= party.party.substring(0,
														2) %>
												</span>
												<% } %>
									</div>
									<span class="font-medium">
										<%= party.party %>
									</span>
								</div>
								<div class="flex items-center gap-2">
									<span class="w-3 h-3 rounded-full"
										style="background-color: <%= party.color_code %>"></span>
									<span class="font-bold">
										<%= party.seatsWon %> seats
									</span>
								</div>
							</div>
							<% }); %>
					</div>

					<!-- Footer -->
					<div
						class="flex justify-between items-center mt-6 pt-4 border-t border-gray-100">
						<div class="flex items-center gap-2 text-gray-600">
							<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5"
								fill="none" viewBox="0 0 24 24" stroke="currentColor">
								<path stroke-linecap="round" stroke-linejoin="round"
									stroke-width="2"
									d="M7 16l-4-4m0 0l4-4m-4 4h18" />
							</svg>
							<span>Parties: <%= alliance.parties.length %></span>
						</div>
						<% if (userRole==='admin' || userRole==='superadmin' ) { %>
							<a href="/edit-alliance/<%= alliance._id %>"
								class="bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-md">
								Edit Alliance
							</a>
							<a href="/create-alliance"
								class="bg-green-500 hover:bg-green-600 text-white font-medium py-2 px-4 rounded-md">
								Create Alliance
							</a>
							<% } %>
					</div>
				</div>
				<% }); %>
		</div>
	</div>

	<script>

	</script>
</body>

</html>
